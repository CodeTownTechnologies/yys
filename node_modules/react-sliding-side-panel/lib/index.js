"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactTransitionGroup = require("react-transition-group");

require("./index.css");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var getPanelGlassStyle = function getPanelGlassStyle(type, size, hidden) {
  var horizontal = type === 'bottom' || type === 'top';
  return _objectSpread({
    width: horizontal ? "".concat(hidden ? '0' : '100', "vw") : "".concat(100 - size, "vw"),
    height: horizontal ? "".concat(100 - size, "vh") : "".concat(hidden ? '0' : '100', "vh")
  }, type === 'right' && {
    left: 0
  }, {}, type === 'top' && {
    bottom: 0
  }, {
    position: 'inherit'
  });
};

var getPanelStyle = function getPanelStyle(type, size) {
  var horizontal = type === 'bottom' || type === 'top';
  return _objectSpread({
    width: horizontal ? '100vw' : "".concat(size, "vw"),
    height: horizontal ? "".concat(size, "vh") : '100vh'
  }, type === 'right' && {
    right: 0
  }, {}, type === 'bottom' && {
    bottom: 0
  }, {
    position: 'inherit',
    overflow: 'auto'
  });
};

var SlidingPanel = function SlidingPanel(_ref) {
  var type = _ref.type,
      size = _ref.size,
      panelContainerClassName = _ref.panelContainerClassName,
      panelClassName = _ref.panelClassName,
      isOpen = _ref.isOpen,
      onOpen = _ref.onOpen,
      onOpening = _ref.onOpening,
      onOpened = _ref.onOpened,
      onClose = _ref.onClose,
      onClosing = _ref.onClosing,
      onClosed = _ref.onClosed,
      backdropClicked = _ref.backdropClicked,
      noBackdrop = _ref.noBackdrop,
      children = _ref.children;
  var glassBefore = type === 'right' || type === 'bottom';
  var horizontal = type === 'bottom' || type === 'top';
  return /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement("div", {
    className: "sliding-panel-container ".concat(isOpen ? 'active' : '', " ").concat(noBackdrop ? 'click-through' : '')
  }, /*#__PURE__*/_react["default"].createElement(_reactTransitionGroup.CSSTransition, {
    "in": isOpen,
    timeout: 500,
    classNames: "panel-container-".concat(type),
    unmountOnExit: true,
    onEnter: function onEnter(node, isAppearing) {
      return onOpen(node, isAppearing);
    },
    onEntering: function onEntering(node, isAppearing) {
      return onOpening(node, isAppearing);
    },
    onEntered: function onEntered(node, isAppearing) {
      return onOpened(node, isAppearing);
    },
    onExit: function onExit(node) {
      return onClose(node);
    },
    onExiting: function onExiting(node) {
      return onClosing(node);
    },
    onExited: function onExited(node) {
      return onClosed(node);
    },
    style: {
      display: horizontal ? 'block' : 'flex'
    }
  }, /*#__PURE__*/_react["default"].createElement("div", null, glassBefore && /*#__PURE__*/_react["default"].createElement("div", {
    className: "glass",
    style: getPanelGlassStyle(type, size, noBackdrop),
    onClick: function onClick(e) {
      if (!noBackdrop) backdropClicked(e);
    }
  }), /*#__PURE__*/_react["default"].createElement("div", {
    className: "panel ".concat(panelContainerClassName || ''),
    style: getPanelStyle(type, size)
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "panel-content ".concat(panelClassName || '')
  }, children)), !glassBefore && /*#__PURE__*/_react["default"].createElement("div", {
    className: "glass",
    style: getPanelGlassStyle(type, size, noBackdrop),
    onClick: function onClick(e) {
      if (!noBackdrop) backdropClicked(e);
    }
  })))));
};

SlidingPanel.propTypes = {
  type: _propTypes["default"].oneOf(['top', 'right', 'bottom', 'left']),
  size: _propTypes["default"].number,
  panelClassName: _propTypes["default"].string,
  panelContainerClassName: _propTypes["default"].string,
  isOpen: _propTypes["default"].bool.isRequired,
  onOpen: _propTypes["default"].func,
  onOpening: _propTypes["default"].func,
  onOpened: _propTypes["default"].func,
  onClose: _propTypes["default"].func,
  onClosing: _propTypes["default"].func,
  onClosed: _propTypes["default"].func,
  backdropClicked: _propTypes["default"].func,
  noBackdrop: _propTypes["default"].bool,
  children: _propTypes["default"].element
};
SlidingPanel.defaultProps = {
  type: 'left',
  size: 50,
  panelClassName: '',
  panelContainerClassName: '',
  onOpen: function onOpen() {
    return null;
  },
  onOpening: function onOpening() {
    return null;
  },
  onOpened: function onOpened() {
    return null;
  },
  onClose: function onClose() {
    return null;
  },
  onClosing: function onClosing() {
    return null;
  },
  onClosed: function onClosed() {
    return null;
  },
  backdropClicked: function backdropClicked() {
    return null;
  },
  noBackdrop: false,
  children: null
};
var _default = SlidingPanel;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qc3giXSwibmFtZXMiOlsiZ2V0UGFuZWxHbGFzc1N0eWxlIiwidHlwZSIsInNpemUiLCJoaWRkZW4iLCJob3Jpem9udGFsIiwid2lkdGgiLCJoZWlnaHQiLCJsZWZ0IiwiYm90dG9tIiwicG9zaXRpb24iLCJnZXRQYW5lbFN0eWxlIiwicmlnaHQiLCJvdmVyZmxvdyIsIlNsaWRpbmdQYW5lbCIsInBhbmVsQ29udGFpbmVyQ2xhc3NOYW1lIiwicGFuZWxDbGFzc05hbWUiLCJpc09wZW4iLCJvbk9wZW4iLCJvbk9wZW5pbmciLCJvbk9wZW5lZCIsIm9uQ2xvc2UiLCJvbkNsb3NpbmciLCJvbkNsb3NlZCIsImJhY2tkcm9wQ2xpY2tlZCIsIm5vQmFja2Ryb3AiLCJjaGlsZHJlbiIsImdsYXNzQmVmb3JlIiwibm9kZSIsImlzQXBwZWFyaW5nIiwiZGlzcGxheSIsImUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJvbmVPZiIsIm51bWJlciIsInN0cmluZyIsImJvb2wiLCJpc1JlcXVpcmVkIiwiZnVuYyIsImVsZW1lbnQiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7OztBQUVBLElBQU1BLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsQ0FBQ0MsSUFBRCxFQUFPQyxJQUFQLEVBQWFDLE1BQWIsRUFBd0I7QUFDakQsTUFBTUMsVUFBVSxHQUFHSCxJQUFJLEtBQUssUUFBVCxJQUFxQkEsSUFBSSxLQUFLLEtBQWpEO0FBQ0E7QUFDRUksSUFBQUEsS0FBSyxFQUFFRCxVQUFVLGFBQU1ELE1BQU0sR0FBRyxHQUFILEdBQVMsS0FBckIsb0JBQW9DLE1BQU1ELElBQTFDLE9BRG5CO0FBRUVJLElBQUFBLE1BQU0sRUFBRUYsVUFBVSxhQUFNLE1BQU1GLElBQVosb0JBQTBCQyxNQUFNLEdBQUcsR0FBSCxHQUFTLEtBQXpDO0FBRnBCLEtBR01GLElBQUksS0FBSyxPQUFULElB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RUFBRTtBQUFBLFdBQU0sSUFBTjtBQUFBLEdBVmdCO0FBVzFCQyxFQUFBQSxlQUFlLEVBQUU7QUFBQSxXQUFNLElBQU47QUFBQSxHQVhTO0FBWTFCQyxFQUFBQSxVQUFVLEVBQUUsS0FaYztBQWExQkMsRUFBQUEsUUFBUSxFQUFFO0FBYmdCLENBQTVCO2VBZ0JlWixZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuY29uc3QgZ2V0UGFuZWxHbGFzc1N0eWxlID0gKHR5cGUsIHNpemUsIGhpZGRlbikgPT4ge1xuICBjb25zdCBob3Jpem9udGFsID0gdHlwZSA9PT0gJ2JvdHRvbScgfHwgdHlwZSA9PT0gJ3RvcCc7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGhvcml6b250YWwgPyBgJHtoaWRkZW4gPyAnMCcgOiAnMTAwJ312d2AgOiBgJHsxMDAgLSBzaXplfXZ3YCxcbiAgICBoZWlnaHQ6IGhvcml6b250YWwgPyBgJHsxMDAgLSBzaXplfXZoYCA6IGAke2hpZGRlbiA/ICcwJyA6ICcxMDAnfXZoYCxcbiAgICAuLi4odHlwZSA9PT0gJ3JpZ2h0JyAmJiB7IGxlZnQ6IDAgfSksXG4gICAgLi4uKHR5cGUgPT09ICd0b3AnICYmIHsgYm90dG9tOiAwIH0pLFxuICAgIHBvc2l0aW9uOiAnaW5oZXJpdCcsXG4gIH07XG59O1xuXG5jb25zdCBnZXRQYW5lbFN0eWxlID0gKHR5cGUsIHNpemUpID0+IHtcbiAgY29uc3QgaG9yaXpvbnRhbCA9IHR5cGUgPT09ICdib3R0b20nIHx8IHR5cGUgPT09ICd0b3AnO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBob3Jpem9udGFsID8gJzEwMHZ3JyA6IGAke3NpemV9dndgLFxuICAgIGhlaWdodDogaG9yaXpvbnRhbCA/IGAke3NpemV9dmhgIDogJzEwMHZoJyxcbiAgICAuLi4odHlwZSA9PT0gJ3JpZ2h0JyAmJiB7IHJpZ2h0OiAwIH0pLFxuICAgIC4uLih0eXBlID09PSAnYm90dG9tJyAmJiB7IGJvdHRvbTogMCB9KSxcbiAgICBwb3NpdGlvbjogJ2luaGVyaXQnLFxuICAgIG92ZXJmbG93OiAnYXV0bycsXG4gIH07XG59O1xuXG5jb25zdCBTbGlkaW5nUGFuZWwgPSAoe1xuICB0eXBlLFxuICBzaXplLFxuICBwYW5lbENvbnRhaW5lckNsYXNzTmFtZSxcbiAgcGFuZWxDbGFzc05hbWUsXG4gIGlzT3BlbixcbiAgb25PcGVuLFxuICBvbk9wZW5pbmcsXG4gIG9uT3BlbmVkLFxuICBvbkNsb3NlLFxuICBvbkNsb3NpbmcsXG4gIG9uQ2xvc2VkLFxuICBiYWNrZHJvcENsaWNrZWQsXG4gIG5vQmFja2Ryb3AsXG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICBjb25zdCBnbGFzc0JlZm9yZSA9IHR5cGUgPT09ICdyaWdodCcgfHwgdHlwZSA9PT0gJ2JvdHRvbSc7XG4gIGNvbnN0IGhvcml6b250YWwgPSB0eXBlID09PSAnYm90dG9tJyB8fCB0eXBlID09PSAndG9wJztcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BzbGlkaW5nLXBhbmVsLWNvbnRhaW5lciAke2lzT3BlbiA/ICdhY3RpdmUnIDogJyd9ICR7bm9CYWNrZHJvcCA/ICdjbGljay10aHJvdWdoJyA6ICcnfWB9PlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIGluPXtpc09wZW59XG4gICAgICAgICAgdGltZW91dD17NTAwfVxuICAgICAgICAgIGNsYXNzTmFtZXM9e2BwYW5lbC1jb250YWluZXItJHt0eXBlfWB9XG4gICAgICAgICAgdW5tb3VudE9uRXhpdFxuICAgICAgICAgIG9uRW50ZXI9eyhub2RlLCBpc0FwcGVhcmluZykgPT4gb25PcGVuKG5vZGUsIGlzQXBwZWFyaW5nKX1cbiAgICAgICAgICBvbkVudGVyaW5nPXsobm9kZSwgaXNBcHBlYXJpbmcpID0+IG9uT3BlbmluZyhub2RlLCBpc0FwcGVhcmluZyl9XG4gICAgICAgICAgb25FbnRlcmVkPXsobm9kZSwgaXNBcHBlYXJpbmcpID0+IG9uT3BlbmVkKG5vZGUsIGlzQXBwZWFyaW5nKX1cbiAgICAgICAgICBvbkV4aXQ9e25vZGUgPT4gb25DbG9zZShub2RlKX1cbiAgICAgICAgICBvbkV4aXRpbmc9e25vZGUgPT4gb25DbG9zaW5nKG5vZGUpfVxuICAgICAgICAgIG9uRXhpdGVkPXtub2RlID0+IG9uQ2xvc2VkKG5vZGUpfVxuICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IGhvcml6b250YWwgPyAnYmxvY2snIDogJ2ZsZXgnIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge2dsYXNzQmVmb3JlICYmIChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17Z2V0UGFuZWxHbGFzc1N0eWxlKHR5cGUsIHNpemUsIG5vQmFja2Ryb3ApfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGlmICghbm9CYWNrZHJvcCkgYmFja2Ryb3BDbGlja2VkKGUpOyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcGFuZWwgJHtwYW5lbENvbnRhaW5lckNsYXNzTmFtZSB8fCAnJ31gfSBzdHlsZT17Z2V0UGFuZWxTdHlsZSh0eXBlLCBzaXplKX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcGFuZWwtY29udGVudCAke3BhbmVsQ2xhc3NOYW1lIHx8ICcnfWB9PntjaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyFnbGFzc0JlZm9yZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzc1wiXG4gICAgICAgICAgICAgICAgc3R5bGU9e2dldFBhbmVsR2xhc3NTdHlsZSh0eXBlLCBzaXplLCBub0JhY2tkcm9wKX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4geyBpZiAoIW5vQmFja2Ryb3ApIGJhY2tkcm9wQ2xpY2tlZChlKTsgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuU2xpZGluZ1BhbmVsLnByb3BUeXBlcyA9IHtcbiAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10pLFxuICBzaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICBwYW5lbENsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgcGFuZWxDb250YWluZXJDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGlzT3BlbjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25PcGVuaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25PcGVuZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DbG9zaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DbG9zZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBiYWNrZHJvcENsaWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBub0JhY2tkcm9wOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LFxufTtcblxuU2xpZGluZ1BhbmVsLmRlZmF1bHRQcm9wcyA9IHtcbiAgdHlwZTogJ2xlZnQnLFxuICBzaXplOiA1MCxcbiAgcGFuZWxDbGFzc05hbWU6ICcnLFxuICBwYW5lbENvbnRhaW5lckNsYXNzTmFtZTogJycsXG4gIG9uT3BlbjogKCkgPT4gbnVsbCxcbiAgb25PcGVuaW5nOiAoKSA9PiBudWxsLFxuICBvbk9wZW5lZDogKCkgPT4gbnVsbCxcbiAgb25DbG9zZTogKCkgPT4gbnVsbCxcbiAgb25DbG9zaW5nOiAoKSA9PiBudWxsLFxuICBvbkNsb3NlZDogKCkgPT4gbnVsbCxcbiAgYmFja2Ryb3BDbGlja2VkOiAoKSA9PiBudWxsLFxuICBub0JhY2tkcm9wOiBmYWxzZSxcbiAgY2hpbGRyZW46IG51bGwsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTbGlkaW5nUGFuZWw7XG4iXX0=